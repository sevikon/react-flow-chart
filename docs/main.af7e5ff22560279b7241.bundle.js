(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(246)),__export(__webpack_require__(247)),__export(__webpack_require__(248)),__export(__webpack_require__(249))},230:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),CanvasOuterCustom=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  background-size: 10px 10px;\n  background-color: #4f6791;\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.1) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.1) 1px,transparent 0);\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"],["\n  position: relative;\n  background-size: 10px 10px;\n  background-color: #4f6791;\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.1) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.1) 1px,transparent 0);\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"])));exports.CustomCanvasOuterDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{CanvasOuter:CanvasOuterCustom}}))}},232:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var CanvasContext=__webpack_require__(0).createContext({offsetX:0,offsetY:0});exports.default=CanvasContext},233:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,styled_components_1=__webpack_require__(3);exports.NodeDefault=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  transition: 0.3s ease box-shadow, 0.3s ease margin-top;\n  background: white;\n  border-radius: 4px;\n  min-width: 200px;\n  ","\n"],["\n  position: absolute;\n  transition: 0.3s ease box-shadow, 0.3s ease margin-top;\n  background: white;\n  border-radius: 4px;\n  min-width: 200px;\n  ","\n"])),function(props){return props.isSelected&&styled_components_1.css(templateObject_1||(templateObject_1=__makeTemplateObject(["\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n    margin-top: -2px\n    "],["\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n    margin-top: -2px\n    "])))})},234:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),PortDefaultOuter=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:hover > div {\n    background: cornflowerblue;\n  }\n"],["\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:hover > div {\n    background: cornflowerblue;\n  }\n"]))),PortDefaultInner=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background:  ",";\n  cursor: pointer;\n"],["\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background:  ",";\n  cursor: pointer;\n"])),function(props){return props.active?"cornflowerblue":"grey"});exports.PortDefault=function(_a){var isLinkSelected=_a.isLinkSelected,isLinkHovered=_a.isLinkHovered;return React.createElement(PortDefaultOuter,null,React.createElement(PortDefaultInner,{active:isLinkSelected||isLinkHovered}))}},238:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(239)),__export(__webpack_require__(559)),__export(__webpack_require__(241))},239:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(7),advanced_1=__webpack_require__(240);exports.LinkDefault=function(_a){var link=_a.link,startPos=_a.startPos,endPos=_a.endPos,onLinkMouseEnter=_a.onLinkMouseEnter,onLinkMouseLeave=_a.onLinkMouseLeave,onLinkClick=_a.onLinkClick,isHovered=_a.isHovered,isSelected=_a.isSelected,_b=_a.color,color=void 0===_b?advanced_1.COLOR_OUTPUT:_b,points=__1.generateCurvePath(startPos,endPos);return React.createElement("svg",{style:{overflow:"visible",position:"absolute",cursor:"pointer",left:0,right:0}},React.createElement("circle",{r:"4",cx:startPos.x,cy:startPos.y,fill:color}),React.createElement("path",{d:points,stroke:color,strokeWidth:"3",fill:"none"}),React.createElement("path",{d:points,stroke:color,strokeWidth:"20",fill:"none",strokeLinecap:"round",strokeOpacity:isHovered||isSelected?.1:0,onMouseEnter:function(){return onLinkMouseEnter({linkId:link.id})},onMouseLeave:function(){return onLinkMouseLeave({linkId:link.id})},onClick:function(e){onLinkClick({linkId:link.id}),e.stopPropagation()}}),React.createElement("circle",{r:"4",cx:endPos.x,cy:endPos.y,fill:color}))}},24:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chartSimple={offset:{x:0,y:0},nodes:{node1:{id:"node1",type:"output-only",position:{x:300,y:100},ports:{port1:{id:"port1",type:"output",properties:{value:"yes"}},port2:{id:"port2",type:"output",properties:{value:"no"}}}},node2:{id:"node2",type:"input-output",position:{x:300,y:300},ports:{port1:{id:"port1",type:"input"},port2:{id:"port2",type:"output"}}},node3:{id:"node3",type:"input-output",position:{x:100,y:600},ports:{port1:{id:"port1",type:"input"},port2:{id:"port2",type:"output"}}},node4:{id:"node4",type:"input-output",position:{x:500,y:600},ports:{port1:{id:"port1",type:"input"},port2:{id:"port2",type:"output"}}}},links:{link1:{id:"link1",from:{nodeId:"node1",portId:"port2"},to:{nodeId:"node2",portId:"port1"},properties:{label:"example link label"}},link2:{id:"link2",from:{nodeId:"node2",portId:"port2"},to:{nodeId:"node3",portId:"port1"},properties:{label:"another example link label"}},link3:{id:"link3",from:{nodeId:"node2",portId:"port2"},to:{nodeId:"node4",portId:"port1"}}},selected:{},hovered:{}}},240:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.COLOR_INPUT="#F9A825",exports.COLOR_OUTPUT="#3F51B5",exports.COLOR_LINK_CLOSE="#EC407A",exports.COLOR_SUCCESS="#009688",exports.COLOR_ERROR=exports.COLOR_LINK_CLOSE,exports.COLOR_DEFAULT_LINK="#FFF",exports.COLOR_SUCCESS_LIGHT="rgba(0,150,136,0.4)",exports.COLOR_OUTPUT_LIGHT="rgba(63,81,181,0.4)"},241:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(560)),__export(__webpack_require__(561))},242:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),Input=__webpack_require__(3).default.input(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  width: 100%;\n"],["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  width: 100%;\n"]))),CustomInput=function(_super){function CustomInput(props){var _this=_super.call(this,props)||this;return _this.state={value:props.value},_this}return __extends(CustomInput,_super),CustomInput.prototype.componentDidUpdate=function(prevProps,prevState,snapshot){prevProps.value!==this.props.value&&this.setState({value:this.props.value})},CustomInput.prototype.render=function(){var _this=this;return React.createElement(Input,{className:"text-input",value:this.state.value,placeholder:this.props.placeholder||"Value",onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onChange:function(e){_this.setState({value:e.target.value},function(){_this.props.reactive&&_this.props.onChange&&_this.props.onChange({name:"points",value:_this.state.value})})},onBlur:function(e){_this.props.onChange&&_this.props.onChange({name:"points",value:e.target.value})}})},CustomInput}(React.Component);exports.CustomInput=CustomInput},243:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function mapValues(o,func){var res={};for(var key in o)o.hasOwnProperty(key)&&(res[key]=func(o[key]));return res}},244:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(571)),__export(__webpack_require__(572)),__export(__webpack_require__(573))},245:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(574)),__export(__webpack_require__(575))},246:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(3);exports.Content=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"])))},247:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),GlobalStyle=styled_components_1.createGlobalStyle(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"],["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]))),PageContent=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 100vh;\n"],["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 100vh;\n"])));exports.Page=function(_a){var children=_a.children;return React.createElement(PageContent,null,children,React.createElement(GlobalStyle,null))}},248:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(3);exports.Sidebar=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 300px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  padding: 15px 10px;\n"],["\n  width: 300px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  padding: 15px 10px;\n"])))},249:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),Outer=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 20px 30px;\n  font-size: 14px;\n  background: white;\n  cursor: move;\n  border: solid #c5cae9 1px;\n"],["\n  padding: 20px 30px;\n  font-size: 14px;\n  background: white;\n  cursor: move;\n  border: solid #c5cae9 1px;\n"]))),SidebarItem=function(_super){function SidebarItem(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state={width:0,height:0,offsetX:0,offsetY:0},_this.ref=React.createRef(),_this.updateSize=function(){var el=_this.ref.current;if(el){var rect=el.getBoundingClientRect();el.offsetWidth===_this.state.width&&el.offsetHeight===_this.state.height||_this.setState({width:el.offsetWidth,height:el.offsetHeight}),rect.left===_this.state.offsetX&&rect.top===_this.state.offsetY||_this.setState({offsetX:rect.left,offsetY:rect.top})}},_this}return __extends(SidebarItem,_super),SidebarItem.prototype.componentDidMount=function(){(this.updateSize(),this.ref.current)&&(window.ResizeObserver?new window.ResizeObserver(this.updateSize).observe(this.ref.current):window.addEventListener("resize",this.updateSize))},SidebarItem.prototype.componentDidUpdate=function(){this.updateSize()},SidebarItem.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateSize)},SidebarItem.prototype.render=function(){var _this=this,_a=this.props,type=_a.type,ports=_a.ports,properties=_a.properties;return React.createElement("div",{ref:this.ref,className:"sidebar-item"},React.createElement(Outer,{draggable:!0,onDragStart:function(event){var el=_this.ref.current;if(el){var rect=el.getBoundingClientRect(),offsetX=el.clientLeft+event.clientX-rect.left,offsetY=el.clientTop+event.clientY-rect.top;event.dataTransfer.setData(src_1.REACT_FLOW_CHART,JSON.stringify({type:type,ports:ports,properties:properties,offsetX:offsetX,offsetY:offsetY}))}}},type))},SidebarItem}(React.Component);exports.SidebarItem=SidebarItem},250:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,templateObject_3,lodash_1=__webpack_require__(74),React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),actions=__webpack_require__(72),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),Label=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n"],["\n  position: absolute;\n"]))),Button=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  padding: 5px;\n  height: 15px;\n  width: 15px;\n  transform: translate(50%, -50%);\n  background: red;\n  color: white;\n  border-radius: 50%;\n  transition: 0.3s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n"],["\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  padding: 5px;\n  height: 15px;\n  width: 15px;\n  transform: translate(50%, -50%);\n  background: red;\n  color: white;\n  border-radius: 50%;\n  transition: 0.3s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n"]))),LabelContent=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  padding: 5px 10px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n"],["\n  padding: 5px 10px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n"]))),CustomLinkDemo=function(_super){function CustomLinkDemo(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(CustomLinkDemo,_super),CustomLinkDemo.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}});return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions,Components:{Link:function(props){var startPos=props.startPos,endPos=props.endPos,onLinkClick=props.onLinkClick,link=props.link,centerX=startPos.x+(endPos.x-startPos.x)/2,centerY=startPos.y+(endPos.y-startPos.y)/2;return React.createElement(React.Fragment,null,React.createElement(src_1.LinkDefault,__assign({},props)),React.createElement(Label,{style:{left:centerX,top:centerY}},props.link.properties&&props.link.properties.label&&React.createElement(LabelContent,null,props.link.properties&&props.link.properties.label),React.createElement(Button,{onClick:function(e){onLinkClick({linkId:link.id}),stateActions.onDeleteKey(),e.stopPropagation()}},"x")))}}}))},CustomLinkDemo}(React.Component);exports.CustomLinkDemo=CustomLinkDemo},251:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),DarkBox=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n  padding: 30px;\n  background: #3e3e3e;\n  color: white;\n  border-radius: 10px;\n"],["\n  position: absolute;\n  padding: 30px;\n  background: #3e3e3e;\n  color: white;\n  border-radius: 10px;\n"]))),Circle=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  width: 150px;\n  height: 150px;\n  padding: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #d30000;\n  color: white;\n  border-radius: 50%;\n"],["\n  position: absolute;\n  width: 150px;\n  height: 150px;\n  padding: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #d30000;\n  color: white;\n  border-radius: 50%;\n"]))),NodeCustom=function(_a){var node=_a.node,children=_a.children,otherProps=__rest(_a,["node","children"]);return"output-only"===node.type?React.createElement(DarkBox,__assign({},otherProps),children):React.createElement(Circle,__assign({},otherProps),children)};exports.CustomNodeDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{Node:NodeCustom}}))}},252:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),Outer=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 30px;\n"],["\n  padding: 30px;\n"]))),Input=styled_components_1.default.input(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  width: 100%;\n"],["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  width: 100%;\n"]))),NodeInnerCustom=function(_a){return"output-only"===_a.node.type?React.createElement(Outer,null,React.createElement("p",null,"Use Node inner to customise the content of the node")):React.createElement(Outer,null,React.createElement("p",null,"Add custom displays for each node.type"),React.createElement("p",null,"You may need to stop event propagation so your forms work."),React.createElement("br",null),React.createElement(Input,{placeholder:"Add forms etc if required",onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()}}))};exports.CustomNodeInnerDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{NodeInner:NodeInnerCustom}}))}},253:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),PortDefaultOuter=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 24px;\n  height: 24px;\n  background: cornflowerblue;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  width: 24px;\n  height: 24px;\n  background: cornflowerblue;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),PortCustom=function(props){return React.createElement(PortDefaultOuter,null,props.port.properties&&"yes"===props.port.properties.value&&React.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},React.createElement("path",{fill:"white",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})),props.port.properties&&"no"===props.port.properties.value&&React.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},React.createElement("path",{fill:"white",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})),!props.port.properties&&React.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},React.createElement("path",{fill:"white",d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"})))};exports.CustomPortDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{Port:PortCustom}}))}},254:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),Message=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\nmargin: 10px;\npadding: 10px;\nbackground: rgba(0,0,0,0.05);\n"],["\nmargin: 10px;\npadding: 10px;\nbackground: rgba(0,0,0,0.05);\n"])));exports.DragAndDropSidebar=function(){return React.createElement(components_1.Page,null,React.createElement(components_1.Content,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple})),React.createElement(components_1.Sidebar,null,React.createElement(Message,null,"Drag and drop these items onto the canvas."),React.createElement(components_1.SidebarItem,{type:"top/bottom",ports:{port1:{id:"port1",type:"top",properties:{custom:"property"}},port2:{id:"port1",type:"bottom",properties:{custom:"property"}}},properties:{custom:"property"}}),React.createElement(components_1.SidebarItem,{type:"bottom-only",ports:{port1:{id:"port1",type:"bottom",properties:{custom:"property"}}}}),React.createElement(components_1.SidebarItem,{type:"left-right",ports:{port1:{id:"port1",type:"left",properties:{custom:"property"}},port2:{id:"port2",type:"right",properties:{custom:"property"}}}}),React.createElement(components_1.SidebarItem,{type:"all-sides",ports:{port1:{id:"port1",type:"left"},port2:{id:"port2",type:"right"},port3:{id:"port3",type:"top"},port4:{id:"port4",type:"bottom"}}}),React.createElement(components_1.SidebarItem,{type:"lots-of-ports",ports:{port1:{id:"port1",type:"left"},port2:{id:"port2",type:"right"},port3:{id:"port3",type:"top"},port4:{id:"port4",type:"bottom"},port5:{id:"port5",type:"left"},port6:{id:"port6",type:"right"},port7:{id:"port7",type:"top"},port8:{id:"port8",type:"bottom"},port9:{id:"port9",type:"left"},port10:{id:"port10",type:"right"},port11:{id:"port11",type:"top"},port12:{id:"port12",type:"bottom"}}})))}},255:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var lodash_1=__webpack_require__(74),React=__webpack_require__(0),react_json_view_1=__webpack_require__(577),src_1=__webpack_require__(7),actions=__webpack_require__(72),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),ReactJsonThrottled=__webpack_require__(256).throttleRender(200)(react_json_view_1.default),ExternalReactState=function(_super){function ExternalReactState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(ExternalReactState,_super),ExternalReactState.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}});return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions}),React.createElement(ReactJsonThrottled,{src:chart,enableClipboard:!1,style:{overflowY:"scroll",width:"400px"}}))},ExternalReactState}(React.Component);exports.ExternalReactState=ExternalReactState},256:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var lodash_1=__webpack_require__(74),React=__webpack_require__(0);exports.throttleRender=function(wait,options){return function(ComponentToThrottle){return function(_super){function Throttle(props,context){var _this=_super.call(this,props,context)||this;return _this.state={},_this.throttledSetState=lodash_1.throttle(function(nextState){return _this.setState(nextState)},wait,options),_this}return __extends(Throttle,_super),Throttle.prototype.shouldComponentUpdate=function(nextProps,nextState){return this.state!==nextState},Throttle.prototype.componentWillMount=function(){this.throttledSetState({props:this.props})},Throttle.prototype.componentWillReceiveProps=function(nextProps){this.throttledSetState({props:nextProps})},Throttle.prototype.componentWillUnmount=function(){this.throttledSetState.cancel()},Throttle.prototype.render=function(){return React.createElement(ComponentToThrottle,__assign({},this.state.props))},Throttle}(React.Component)}}},257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(7),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24);exports.InternalReactState=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple}))}},258:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,lodash_1=__webpack_require__(74),React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),actions=__webpack_require__(72),components_1=__webpack_require__(17),exampleChartState_1=__webpack_require__(24),Message=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n"],["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n"]))),Button=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 10px 15px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 3px;\n  text-align: center;\n  transition: 0.3s ease all;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n  &:active {\n    background: #5682d2;\n  }\n"],["\n  padding: 10px 15px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 3px;\n  text-align: center;\n  transition: 0.3s ease all;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n  &:active {\n    background: #5682d2;\n  }\n"]))),SelectedSidebar=function(_super){function SelectedSidebar(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(SelectedSidebar,_super),SelectedSidebar.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}});return React.createElement(components_1.Page,null,React.createElement(components_1.Content,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions})),React.createElement(components_1.Sidebar,null,chart.selected.type?React.createElement(Message,null,React.createElement("div",null,"Type: ",chart.selected.type),React.createElement("div",null,"ID: ",chart.selected.id),React.createElement("br",null),React.createElement(Button,{onClick:function(){return stateActions.onDeleteKey()}},"Delete")):React.createElement(Message,null,"Click on a Node, Port or Link")))},SelectedSidebar}(React.Component);exports.SelectedSidebar=SelectedSidebar},259:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var lodash_1=__webpack_require__(74),React=__webpack_require__(0),styled_components_1=__webpack_require__(3),src_1=__webpack_require__(7),components_1=__webpack_require__(17),StressTestWithState=function(){var _a=React.useState(100),rows=_a[0],setRows=_a[1],_b=React.useState(100),cols=_b[0],setCols=_b[1],chart=React.useMemo(function(){return function(rows,cols){var xyGrid=lodash_1.flatten(lodash_1.range(0,300*cols,300).map(function(x){return lodash_1.range(0,150*rows,150).map(function(y){return{x:x,y:y}})}));return{offset:{x:0,y:0},nodes:lodash_1.keyBy(xyGrid.map(function(_a){var x=_a.x,y=_a.y;return{id:"node-"+x+"-"+y,type:"default",position:{x:x+100,y:y+100},ports:{port1:{id:"port1",type:"top"},port2:{id:"port2",type:"bottom"},port3:{id:"port3",type:"right"},port4:{id:"port4",type:"left"}}}}),"id"),links:lodash_1.keyBy(lodash_1.compact(lodash_1.flatMap(xyGrid,function(_a,idx){var x=_a.x,y=_a.y,next=xyGrid[idx+1];if(next)return[{id:"link-"+x+"-"+y+"-a",from:{nodeId:"node-"+x+"-"+y,portId:"port2"},to:{nodeId:"node-"+next.x+"-"+next.y,portId:"port3"}},{id:"link-"+x+"-"+y+"-b",from:{nodeId:"node-"+x+"-"+y,portId:"port2"},to:{nodeId:"node-"+next.x+"-"+next.y,portId:"port4"}}]})),"id"),selected:{},hovered:{}}}(rows,cols)},[rows,cols]);return React.createElement(React.Fragment,null,React.createElement(Controls,null,React.createElement(Label,null,"Columns:"),React.createElement(Input,{type:"number",value:cols,onChange:function(e){return setCols(parseInt(e.target.value,10))}}),React.createElement(Label,null,"Rows:"),React.createElement(Input,{type:"number",value:rows,onChange:function(e){return setRows(parseInt(e.target.value,10))}})),React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{key:cols+":"+rows,initialValue:chart})))};exports.StressTestDemo=function(){return React.createElement(StressTestWithState,null)};var templateObject_1,templateObject_2,templateObject_3,Input=styled_components_1.default.input(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 5px 5px 5px 10px;\n  width: 50px;\n"],["\n  padding: 5px 5px 5px 10px;\n  width: 50px;\n"]))),Label=styled_components_1.default.label(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 0 10px;\n  font-size: 14px;\n"],["\n  padding: 0 10px;\n  font-size: 14px;\n"]))),Controls=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"])))},260:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),container_1=__webpack_require__(245),types_1=__webpack_require__(73),TasksFlowChartStory=function(_super){function TasksFlowChartStory(props){var _this=_super.call(this,props)||this;return _this.state={refreshCode:1},_this}return __extends(TasksFlowChartStory,_super),TasksFlowChartStory.prototype.render=function(){var _this=this;return React.createElement("div",null,React.createElement("button",{onClick:function(){_this.setState({refreshCode:_this.state.refreshCode+1})}},"Refresh"),React.createElement(container_1.TasksFlowChart,{editable:!1,refreshCode:this.state.refreshCode.toString(),searchPlaceholder:"Search For Tasks",backgroundImage:"http://localhost:3000/uploads/stock/khPiBGp_1545152212lar5rDPar6.jpg",tasks:[{title:"Task A",id:"taskA",points:20,status:"finished",dependencies:[]},{title:"Task B",id:"taskB",points:30,status:"finished",dependencies:["taskA"]},{title:"Task C",id:"taskC",points:40,status:"finished",dependencies:["taskA"]},{title:"Task D",id:"taskD",points:40,status:"finished",dependencies:[]},{title:"Task E",id:"taskE",points:40,status:"finished",dependencies:["taskC"]},{title:"Task F",id:"taskF",points:40,status:"finished",dependencies:["taskD"]},{title:"Task G",id:"taskG",points:40,status:"finished",dependencies:["taskF"]},{title:"Task H",id:"taskH",points:40,dependencies:["taskC","taskF"]},{title:"Task I",id:"taskI",points:40,dependencies:["taskE"]},{title:"Task J",id:"taskJ",points:40,dependencies:["taskE"]},{title:"Task X",id:"taskX",points:40,dependencies:[]},{title:"Task Y",id:"taskY",dependencies:[]}],startContent:function(){return React.createElement("p",null,"PROJECT START")},endContent:function(distance,progress){return React.createElement("p",null,"PROJECT END (",progress,"/",distance,")")},closeButton:function(){return React.createElement("div",null,"X")},taskContent:function(task){return React.createElement("div",{style:{color:task&&"finished"===task.status?types_1.COLOR_SUCCESS:types_1.COLOR_ERROR}},React.createElement("p",null,task.id),React.createElement("p",null,"P: ",task.points),React.createElement("i",{style:{width:15,position:"absolute",right:25,top:5},onClick:function(){console.log(task)}},React.createElement("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"svg-inline--fa fa-pencil fa-w-16"},React.createElement("path",{d:"M493.255 56.236l-37.49-37.49c-24.993-24.993-65.515-24.994-90.51 0L12.838 371.162.151 485.346c-1.698 15.286 11.22 28.203 26.504 26.504l114.184-12.687 352.417-352.417c24.992-24.994 24.992-65.517-.001-90.51zm-95.196 140.45L174 420.745V386h-48v-48H91.255l224.059-224.059 82.745 82.745zM126.147 468.598l-58.995 6.555-30.305-30.305 6.555-58.995L63.255 366H98v48h48v34.745l-19.853 19.853zm344.48-344.48l-49.941 49.941-82.745-82.745 49.941-49.941c12.505-12.505 32.748-12.507 45.255 0l37.49 37.49c12.506 12.506 12.507 32.747 0 45.255z"}))))}}))},TasksFlowChartStory}(React.Component);exports.TasksFlowChartStory=TasksFlowChartStory},267:function(module,exports,__webpack_require__){__webpack_require__(268),__webpack_require__(372),module.exports=__webpack_require__(373)},373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(30),__webpack_require__(86),__webpack_require__(28),__webpack_require__(34);var _storybook_addon_options__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(262),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(141);Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_4__.setOptions)({hierarchySeparator:/\/|\./,hierarchyRootSeparator:/\|/}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)(function loadStories(){!function requireAll(requireContext){return requireContext.keys().map(requireContext)}(__webpack_require__(536))},module)}.call(this,__webpack_require__(374)(module))},536:function(module,exports,__webpack_require__){var map={"./CustomCanvasOuter.tsx":230,"./CustomLink.tsx":250,"./CustomNode.tsx":251,"./CustomNodeInner.tsx":252,"./CustomPort.tsx":253,"./DragAndDropSidebar.tsx":254,"./ExternalReactState.tsx":255,"./InternalReactState.tsx":257,"./SelectedSidebar.tsx":258,"./StressTest.tsx":259,"./TasksFlowChartStory.tsx":260,"./components/Content.tsx":246,"./components/Page.tsx":247,"./components/Sidebar.tsx":248,"./components/SidebarItem.tsx":249,"./components/index.ts":17,"./index.tsx":578,"./misc/advancedChartState.ts":579,"./misc/exampleChartState.ts":24,"./utils/throttleRender.tsx":256};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=536},541:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(542)),__export(__webpack_require__(547)),__export(__webpack_require__(549)),__export(__webpack_require__(551)),__export(__webpack_require__(555)),__export(__webpack_require__(557)),__export(__webpack_require__(238)),__export(__webpack_require__(562)),__export(__webpack_require__(564))},542:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(543)),__export(__webpack_require__(544)),__export(__webpack_require__(545)),__export(__webpack_require__(546))},543:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(3);exports.CanvasInnerDefault=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  outline: 1px dashed rgba(0,0,0,0.1);\n  width: 10000px;\n  height: 10000px;\n  cursor: move;\n"],["\n  position: relative;\n  outline: 1px dashed rgba(0,0,0,0.1);\n  width: 10000px;\n  height: 10000px;\n  cursor: move;\n"])))},544:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(3);exports.CanvasOuterDefault=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  background-size: 20px 20px;\n  background-color: rgba(0,0,0,0.08);\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.2) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.2) 1px,transparent 0);\n  width: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"],["\n  position: relative;\n  background-size: 20px 20px;\n  background-color: rgba(0,0,0,0.08);\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.2) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.2) 1px,transparent 0);\n  width: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"])))},545:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_draggable_1=__webpack_require__(231),__1=__webpack_require__(7),CanvasContext_1=__webpack_require__(232),CanvasWrapper=function(_super){function CanvasWrapper(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state={width:0,height:0,offsetX:0,offsetY:0},_this.ref=React.createRef(),_this.updateSize=function(){var el=_this.ref.current;if(el){var rect=el.getBoundingClientRect();el.offsetWidth===_this.state.width&&el.offsetHeight===_this.state.height||(_this.setState({width:el.offsetWidth,height:el.offsetHeight}),_this.props.onSizeChange(el.offsetWidth,el.offsetHeight)),rect.left===_this.state.offsetX&&rect.top===_this.state.offsetY||_this.setState({offsetX:rect.left,offsetY:rect.top})}},_this}return __extends(CanvasWrapper,_super),CanvasWrapper.prototype.componentDidMount=function(){(this.updateSize(),this.ref.current)&&(window.ResizeObserver?new window.ResizeObserver(this.updateSize).observe(this.ref.current):window.addEventListener("resize",this.updateSize))},CanvasWrapper.prototype.componentDidUpdate=function(){this.updateSize()},CanvasWrapper.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateSize)},CanvasWrapper.prototype.render=function(){var _this=this,_a=this.props,ComponentInner=_a.ComponentInner,ComponentOuter=_a.ComponentOuter,position=_a.position,onDragCanvas=_a.onDragCanvas,children=_a.children,onCanvasClick=_a.onCanvasClick,onDeleteKey=_a.onDeleteKey,onCanvasDrop=_a.onCanvasDrop;return React.createElement(CanvasContext_1.default.Provider,{value:{offsetX:this.state.offsetX,offsetY:this.state.offsetY}},React.createElement(ComponentOuter,{ref:this.ref},React.createElement(__1.CanvasShadow,{className:"shadow"}),React.createElement(react_draggable_1.default,{axis:"both",position:position,grid:[1,1],onDrag:function(e,dragData){return onDragCanvas(e,dragData)}},React.createElement(ComponentInner,{children:children,onClick:onCanvasClick,tabIndex:0,onKeyDown:function(e){46===e.keyCode&&onDeleteKey()},onDrop:function(e){var data=JSON.parse(e.dataTransfer.getData(__1.REACT_FLOW_CHART));onCanvasDrop({data:data,position:{x:e.clientX-position.x-_this.state.offsetX-(data.offsetX||0),y:e.clientY-position.y-_this.state.offsetY-(data.offsetY||0)}})},onDragOver:function(e){return e.preventDefault()}}))))},CanvasWrapper}(React.Component);exports.CanvasWrapper=CanvasWrapper},546:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(3);exports.CanvasShadow=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n    background-image: linear-gradient(180deg, rgba(197, 202, 233, 0.6), #C5CAE9 80%);\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n"],["\n    background-image: linear-gradient(180deg, rgba(197, 202, 233, 0.6), #C5CAE9 80%);\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n"])))},547:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(233)),__export(__webpack_require__(548))},548:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_draggable_1=__webpack_require__(231),__1=__webpack_require__(7),Node_default_1=__webpack_require__(233);exports.NodeWrapper=function(_a){var _b=_a.editable,editable=void 0===_b||_b,node=_a.node,onDragNode=_a.onDragNode,onNodeClick=_a.onNodeClick,isSelected=_a.isSelected,_c=_a.Component,Component=void 0===_c?Node_default_1.NodeDefault:_c,onNodeSizeChange=_a.onNodeSizeChange,NodeInner=_a.NodeInner,Ports=_a.Ports,Port=_a.Port,offset=_a.offset,selected=_a.selected,selectedLink=_a.selectedLink,hovered=_a.hovered,hoveredLink=_a.hoveredLink,onPortPositionChange=_a.onPortPositionChange,onLinkStart=_a.onLinkStart,onLinkMove=_a.onLinkMove,onLinkComplete=_a.onLinkComplete,onLinkCancel=_a.onLinkCancel,_d=React.useState({width:0,height:0}),size=_d[0],setSize=_d[1],compRef=React.useRef(null);React.useLayoutEffect(function(){var el=compRef.current;if(el&&(size.width!==el.offsetWidth||size.height!==el.offsetHeight)){var newSize={width:el.offsetWidth,height:el.offsetHeight};setSize(newSize),onNodeSizeChange({nodeId:node.id,size:newSize})}},[node,compRef.current,size.width,size.height]);var children=React.createElement(React.Fragment,null,React.createElement(NodeInner,{node:node}),React.createElement(Ports,null,Object.keys(node.ports).map(function(portId){return React.createElement(__1.PortWrapper,{editable:editable,key:portId,offset:offset,selected:selected,selectedLink:selectedLink,hoveredLink:hoveredLink,hovered:hovered,node:node,port:node.ports[portId],Component:Port,onPortPositionChange:onPortPositionChange,onLinkStart:onLinkStart,onLinkMove:onLinkMove,onLinkComplete:onLinkComplete,onLinkCancel:onLinkCancel})})));return React.createElement(react_draggable_1.default,{bounds:"parent",axis:"both",position:node.position,grid:[1,1],onStart:function(e){e.stopPropagation()},onDrag:function(e,dragData){return onDragNode(e,dragData,node.id)}},React.createElement(Component,{ref:compRef,children:children,onClick:function(e){onNodeClick({nodeId:node.id}),e.stopPropagation()},isSelected:isSelected,node:node}))}},549:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(550))},550:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),Outer=__webpack_require__(3).default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 40px 30px;\n"],["\n  padding: 40px 30px;\n"])));exports.NodeInnerDefault=function(_a){var node=_a.node;return React.createElement(Outer,null,React.createElement("div",null,"Type: ",node.type))}},551:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(234)),__export(__webpack_require__(552))},552:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),uuid_1=__webpack_require__(235),CanvasContext_1=__webpack_require__(232),Port_default_1=__webpack_require__(234),composedPath=function(el){for(var path=[];el;)path.push(el),el=el.parentElement;return path},PortWrapper=function(_super){function PortWrapper(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.getNodRef=function(el){if(el){var _a=_this.props,node=_a.node,port=_a.port,onPortPositionChange=_a.onPortPositionChange;_this.nodeRef=el;var nodesEl=el.parentElement?el.parentElement:{offsetLeft:0,offsetTop:0};onPortPositionChange(node,port,{x:el.offsetLeft+nodesEl.offsetLeft+el.offsetWidth/2,y:el.offsetTop+nodesEl.offsetTop+el.offsetHeight/2})}},_this.onMouseDown=function(startEvent){var _a=_this.props,offset=_a.offset,node=_a.node,port=_a.port,onLinkStart=_a.onLinkStart,onLinkCancel=_a.onLinkCancel,onLinkComplete=_a.onLinkComplete,onLinkMove=_a.onLinkMove,linkId=uuid_1.v4(),fromNodeId=node.id,fromPortId=port.id,mouseMoveHandler=function(e){var _a=_this.context,offsetX=_a.offsetX,offsetY=_a.offsetY;onLinkMove({linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId,toPosition:{x:e.clientX-offsetX-offset.x,y:e.clientY-offsetY-offset.y}})},mouseUpHandler=function(e){var portEl=composedPath(e.target).find(function(el){var toPortId=el.getAttribute&&el.getAttribute("data-port-id"),toNodeId=el.getAttribute&&el.getAttribute("data-node-id");return!(!toPortId||!toNodeId)});if(portEl){var toPortId=portEl.getAttribute("data-port-id"),toNodeId=portEl.getAttribute("data-node-id");onLinkComplete({linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId,toNodeId:toNodeId,toPortId:toPortId})}else onLinkCancel({linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId});window.removeEventListener("mouseup",mouseUpHandler,!1),window.removeEventListener("mousemove",mouseMoveHandler,!1)};window.addEventListener("mouseup",mouseUpHandler,!1),window.addEventListener("mousemove",mouseMoveHandler,!1),onLinkStart({linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId}),startEvent.preventDefault(),startEvent.stopPropagation()},_this}return __extends(PortWrapper,_super),PortWrapper.prototype.render=function(){var _a=this.props,_b=_a.editable,editable=void 0===_b||_b,selected=_a.selected,selectedLink=_a.selectedLink,hovered=_a.hovered,hoveredLink=_a.hoveredLink,style=_a.style,port=_a.port,node=_a.node,_c=_a.Component,Component=void 0===_c?Port_default_1.PortDefault:_c;return React.createElement("div",{"data-port-id":port.id,"data-node-id":node.id,onMouseDown:editable?this.onMouseDown:void 0,ref:this.getNodRef,style:style},React.createElement(Component,{port:port,isSelected:!!selected&&"port"===selected.type&&selected.id===port.id,isHovered:!!hovered&&"port"===hovered.type&&hovered.id===port.id,isLinkSelected:!!selectedLink&&(selectedLink.from.portId===port.id&&selectedLink.from.nodeId===node.id||selectedLink.to.portId===port.id&&selectedLink.to.nodeId===node.id),isLinkHovered:!!hoveredLink&&(hoveredLink.from.portId===port.id&&hoveredLink.from.nodeId===node.id||hoveredLink.to.portId===port.id&&hoveredLink.to.nodeId===node.id)}))},PortWrapper.contextType=CanvasContext_1.default,PortWrapper}(React.Component);exports.PortWrapper=PortWrapper},555:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(556))},556:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(7);exports.PortsDefault=function(_a){var children=_a.children;return React.createElement("div",null,React.createElement(__1.PortsGroupDefault,{side:"top"},children.filter(function(child){return["input","top"].includes(child.props.port.type)})),React.createElement(__1.PortsGroupDefault,{side:"bottom"},children.filter(function(child){return["output","bottom"].includes(child.props.port.type)})),React.createElement(__1.PortsGroupDefault,{side:"right"},children.filter(function(child){return["right"].includes(child.props.port.type)})),React.createElement(__1.PortsGroupDefault,{side:"left"},children.filter(function(child){return["left"].includes(child.props.port.type)})))}},557:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(558))},558:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,styled_components_1=__webpack_require__(3);exports.PortsGroupDefault=styled_components_1.default.div(templateObject_5||(templateObject_5=__makeTemplateObject(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n\n  ","\n"],["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),function(props){return"top"===props.side?styled_components_1.css(templateObject_1||(templateObject_1=__makeTemplateObject(["\n        width: 100%;\n        left: 0;\n        top: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "],["\n        width: 100%;\n        left: 0;\n        top: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "]))):"bottom"===props.side?styled_components_1.css(templateObject_2||(templateObject_2=__makeTemplateObject(["\n        width: 100%;\n        left: 0;\n        bottom: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "],["\n        width: 100%;\n        left: 0;\n        bottom: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "]))):"left"===props.side?styled_components_1.css(templateObject_3||(templateObject_3=__makeTemplateObject(["\n        height: 100%;\n        top: 0;\n        left: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "],["\n        height: 100%;\n        top: 0;\n        left: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "]))):styled_components_1.css(templateObject_4||(templateObject_4=__makeTemplateObject(["\n        height: 100%;\n        top: 0;\n        right: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "],["\n        height: 100%;\n        top: 0;\n        right: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "])))})},559:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),Link_default_1=__webpack_require__(239),utils_1=__webpack_require__(241);exports.LinkWrapper=React.memo(function(_a){var _b=_a.Component,Component=void 0===_b?Link_default_1.LinkDefault:_b,link=_a.link,onLinkMouseEnter=_a.onLinkMouseEnter,onLinkMouseLeave=_a.onLinkMouseLeave,onLinkClick=_a.onLinkClick,isSelected=_a.isSelected,isHovered=_a.isHovered,fromNode=_a.fromNode,toNode=_a.toNode,startPos=utils_1.getLinkPosition(fromNode,link.from.portId),endPos=toNode&&link.to.portId?utils_1.getLinkPosition(toNode,link.to.portId):link.to.position;return endPos?React.createElement(Component,{link:link,startPos:startPos,endPos:endPos,onLinkMouseEnter:onLinkMouseEnter,onLinkMouseLeave:onLinkMouseLeave,onLinkClick:onLinkClick,isSelected:isSelected,isHovered:isHovered}):null})},560:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLinkPosition=function(node,portId){var port=node.ports[portId];return{x:node.position.x+(port.position?port.position.x:0),y:node.position.y+(port.position?port.position.y:0)}}},561:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateCurvePath=function(startPos,endPos){var start,end,width=Math.abs(startPos.x-endPos.x),height=Math.abs(startPos.y-endPos.y),leftToRight=startPos.x<endPos.x,topToBottom=startPos.y<endPos.y,isHorizontal=width>height;isHorizontal?(start=leftToRight?startPos:endPos,end=leftToRight?endPos:startPos):(start=topToBottom?startPos:endPos,end=topToBottom?endPos:startPos);var curve=isHorizontal?width/3:height/3,curveX=isHorizontal?curve:0,curveY=isHorizontal?0:curve;return"M"+start.x+","+start.y+" C "+(start.x+curveX)+","+(start.y+curveY)+" "+(end.x-curveX)+","+(end.y-curveY)+" "+end.x+","+end.y}},562:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(563))},563:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(7);exports.FlowChart=function(props){var _a=React.useState({width:0,height:0}),canvasSize=_a[0],setCanvasSize=_a[1],chart=props.chart,_b=props.callbacks,onDragNode=_b.onDragNode,onDragCanvas=_b.onDragCanvas,onCanvasDrop=_b.onCanvasDrop,onLinkStart=_b.onLinkStart,onLinkMove=_b.onLinkMove,onLinkComplete=_b.onLinkComplete,onLinkCancel=_b.onLinkCancel,onPortPositionChange=_b.onPortPositionChange,onLinkMouseEnter=_b.onLinkMouseEnter,onLinkMouseLeave=_b.onLinkMouseLeave,onLinkClick=_b.onLinkClick,onCanvasClick=_b.onCanvasClick,onDeleteKey=_b.onDeleteKey,onNodeClick=_b.onNodeClick,onNodeSizeChange=_b.onNodeSizeChange,_c=props.Components,_d=void 0===_c?{}:_c,_e=_d.CanvasOuter,CanvasOuter=void 0===_e?__1.CanvasOuterDefault:_e,_f=_d.CanvasInner,CanvasInner=void 0===_f?__1.CanvasInnerDefault:_f,_g=_d.NodeInner,NodeInner=void 0===_g?__1.NodeInnerDefault:_g,_h=_d.Ports,Ports=void 0===_h?__1.PortsDefault:_h,_j=_d.Port,Port=void 0===_j?__1.PortDefault:_j,_k=_d.Node,Node=void 0===_k?__1.NodeDefault:_k,_l=_d.Link,Link=void 0===_l?__1.LinkDefault:_l,_m=props.editable,editable=void 0===_m||_m,links=chart.links,nodes=chart.nodes,selected=chart.selected,hovered=chart.hovered,offset=chart.offset,canvasCallbacks={onDragCanvas:onDragCanvas,onCanvasClick:onCanvasClick,onDeleteKey:onDeleteKey,onCanvasDrop:onCanvasDrop},linkCallbacks={onLinkMouseEnter:onLinkMouseEnter,onLinkMouseLeave:onLinkMouseLeave,onLinkClick:onLinkClick},nodeCallbacks={onDragNode:onDragNode,onNodeClick:onNodeClick,onNodeSizeChange:onNodeSizeChange},portCallbacks={onPortPositionChange:onPortPositionChange,onLinkStart:onLinkStart,onLinkMove:onLinkMove,onLinkComplete:onLinkComplete,onLinkCancel:onLinkCancel},nodesInView=Object.keys(nodes).filter(function(nodeId){var _a=nodes[nodeId].position,x=_a.x,y=_a.y,size=nodes[nodeId].size||{width:500,height:500};return x+offset.x+size.width>0&&x+offset.x<canvasSize.width&&y+offset.y+size.height>0&&y+offset.y<canvasSize.height}),linksInView=Object.keys(links).filter(function(linkId){var from=links[linkId].from,to=links[linkId].to;return!to.nodeId||-1!==nodesInView.indexOf(from.nodeId)||-1!==nodesInView.indexOf(to.nodeId)});return React.createElement(__1.CanvasWrapper,__assign({position:chart.offset,ComponentInner:CanvasInner,ComponentOuter:CanvasOuter,onSizeChange:function(width,height){return setCanvasSize({width:width,height:height})}},canvasCallbacks),linksInView.map(function(linkId){var isSelected="link"===selected.type&&selected.id===linkId,isHovered="link"===hovered.type&&hovered.id===linkId,fromNodeId=links[linkId].from.nodeId,toNodeId=links[linkId].to.nodeId;return React.createElement(__1.LinkWrapper,__assign({key:linkId,link:links[linkId],Component:Link,isSelected:isSelected,isHovered:isHovered,fromNode:nodes[fromNodeId],toNode:toNodeId?nodes[toNodeId]:void 0},linkCallbacks))}),nodesInView.map(function(nodeId){var isSelected="node"===selected.type&&selected.id===nodeId,selectedLink=getSelectedLinkForNode(selected,nodeId,links),hoveredLink=getSelectedLinkForNode(hovered,nodeId,links);return React.createElement(__1.NodeWrapper,__assign({editable:editable,key:nodeId,Component:Node,node:nodes[nodeId],offset:chart.offset,isSelected:isSelected,selected:selectedLink?selected:void 0,hovered:hoveredLink?hovered:void 0,selectedLink:selectedLink,hoveredLink:hoveredLink,NodeInner:NodeInner,Ports:Ports,Port:Port},nodeCallbacks,portCallbacks))}))};var getSelectedLinkForNode=function(selected,nodeId,links){var link="link"===selected.type&&selected.id?links[selected.id]:void 0;if(link&&(link.from.nodeId===nodeId||link.to.nodeId===nodeId))return link}},564:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(242)),__export(__webpack_require__(565)),__export(__webpack_require__(567)),__export(__webpack_require__(568)),__export(__webpack_require__(569)),__export(__webpack_require__(570)),__export(__webpack_require__(244))},565:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(7),CanvasOuterCustom_1=__webpack_require__(566),index_1=__webpack_require__(7),actions=__webpack_require__(72),mapValues_1=__webpack_require__(243),FlowChartWithStateAdvanced=function(_super){function FlowChartWithStateAdvanced(props){var _this=_super.call(this,props)||this;return _this.stateActions=mapValues_1.default(actions,function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this.setState(func.apply(void 0,args))}}),_this.state=props.initialValue,_this.canvas=props.backgroundImage?CanvasOuterCustom_1.CanvasOuterCustomImageFunc(props.backgroundImage):__1.CanvasOuterDefault,_this}return __extends(FlowChartWithStateAdvanced,_super),FlowChartWithStateAdvanced.prototype.componentDidMount=function(){this.handleCallback("refreshTasks")},FlowChartWithStateAdvanced.prototype.componentDidUpdate=function(prevProps,prevState,snapshot){this.props.refreshCode!==prevProps.refreshCode?this.handleCallback("refreshState"):this.props.tasks!==prevProps.tasks&&this.handleCallback("refreshState"),this.props.initialValue!==prevProps.initialValue&&this.setState(this.props.initialValue)},FlowChartWithStateAdvanced.prototype.handleCallback=function(funcName,args){var handleCallback=this.props.handleCallback;handleCallback&&handleCallback(funcName,args,this.state)},FlowChartWithStateAdvanced.prototype.render=function(){var _this=this,_a=this.props,Components=_a.Components,chartProgress=_a.chartProgress,editable=_a.editable,tasks=_a.tasks,distances=_a.distances,isEditable=!1!==editable,callbacks=__assign({},this.stateActions,{onLinkComplete:function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var data=args[0];if("port1"===data.fromPortId&&isEditable){args[0]=__assign({},data,{fromPortId:"port2",fromNodeId:data.toNodeId,toNodeId:data.fromNodeId,toPortId:"port1"}),data=args[0];var linksFixed=_this.state.links,link=linksFixed[data.linkId],from={nodeId:data.fromNodeId||"",portId:data.fromPortId||""};link&&link.to&&(linksFixed[link.id]=__assign({},link,{from:from,to:link.from})),_this.setState({links:linksFixed})}if(data.fromPortId!==data.toPortId&&isEditable){var fromNode=_this.state.nodes[data.fromNodeId],toNode=_this.state.nodes[data.toNodeId],to=(from=fromNode.properties.task,toNode.properties.task);from&&to&&_this.props.handleCreateRelation&&_this.props.handleCreateRelation({from:from,to:to}),_this.setState((_a=_this.stateActions).onLinkComplete.apply(_a,args),function(){return _this.handleCallback("onLinkComplete",args)})}else{var funcArgs={linkId:data.linkId};_this.setState(_this.stateActions.onLinkClick(funcArgs),function(){return callbacks.onDeleteKey()})}},onDeleteKey:function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this.setState((_a=_this.stateActions).onDeleteKey.apply(_a,args),function(){return _this.handleCallback.apply(_this,["onDeleteKey"].concat(args))})},onCanvasDrop:function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];isEditable&&_this.setState((_a=_this.stateActions).onCanvasDrop.apply(_a,args),function(){return _this.handleCallback("onCanvasDrop",args)})}});return React.createElement(index_1.FlowChart,{editable:isEditable,chart:this.state,callbacks:callbacks,Components:__assign({},Components,{CanvasOuter:this.canvas,Node:__1.NodeCustom,Port:__1.PortCustom,NodeInner:function(_a){var node=_a.node;return __1.NodeInnerDefaultWrapper({node:node,props:{chartProgress:chartProgress,closeButton:_this.props.closeButton,startContent:_this.props.startContent,endContent:_this.props.endContent,taskContent:_this.props.taskContent,tasks:tasks,distances:distances,onRemove:function(_a){var nodeInner=_a.node;if(isEditable){var data_1={nodeId:nodeInner.id,taskId:nodeInner.properties.taskId};nodeInner.properties.task&&_this.props.handleDeleteTaskRelations&&_this.props.handleDeleteTaskRelations(nodeInner.properties.task),_this.setState(_this.stateActions.onNodeClick(data_1),function(){return callbacks.onDeleteKey(data_1)})}},onChange:function(_a){var name=_a.name,value=_a.value;_this.handleCallback("onNodeChange",{node:node,name:name,value:value})}}})},Link:function(props){return __1.LinkCustomWrapper(__assign({},props),{nodes:_this.state.nodes},{onDelete:isEditable?function(link){if(link.from.nodeId&&link.to.nodeId){var fromNode=_this.state.nodes[link.from.nodeId],toNode=_this.state.nodes[link.to.nodeId],from=fromNode.properties.task,to=toNode.properties.task;from&&to&&_this.props.handleDeleteRelation&&_this.props.handleDeleteRelation({from:from,to:to})}var data={linkId:link.id};_this.setState(_this.stateActions.onLinkClick(data),function(){return callbacks.onDeleteKey(data)})}:void 0})}})})},FlowChartWithStateAdvanced}(React.Component);exports.FlowChartWithStateAdvanced=FlowChartWithStateAdvanced},566:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(3);exports.CanvasOuterCustomImageFunc=function(image){return styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  background-color: #4f6791;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"],["\n  position: relative;\n  background-color: #4f6791;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"])),image)}},567:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,templateObject_3,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),types_1=__webpack_require__(73),Link_1=__webpack_require__(238),Label=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n  height: 20px;\n  width: 20px;\n  z-index: 3;\n"],["\n  position: absolute;\n  height: 20px;\n  width: 20px;\n  z-index: 3;\n"]))),Button=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 0;\n  height: 20px;\n  width: 20px;\n  transform: translate(-50%, -50%);\n  background: ",";\n  color: white;\n  border-radius: 50%;\n  transition: 0.3s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  cursor: pointer;\n  font-weight: bold;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 0;\n  height: 20px;\n  width: 20px;\n  transform: translate(-50%, -50%);\n  background: ",";\n  color: white;\n  border-radius: 50%;\n  transition: 0.3s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  cursor: pointer;\n  font-weight: bold;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n"])),types_1.COLOR_LINK_CLOSE),LabelContent=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  padding: 5px 10px;\n  background: ",";\n  color: white;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n"],["\n  padding: 5px 10px;\n  background: ",";\n  color: white;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n"])),types_1.COLOR_INPUT);exports.LinkCustom=function(props,chart,callbacks){var startPos=props.startPos,endPos=props.endPos,link=props.link,centerX=startPos.x+(endPos.x-startPos.x)/2,centerY=startPos.y+(endPos.y-startPos.y)/2,color=types_1.COLOR_DEFAULT_LINK,fromNode=chart.nodes[link.from.nodeId];fromNode&&("output-only"===fromNode.type||fromNode.properties&&"finished"===fromNode.properties.status)&&(color=types_1.COLOR_SUCCESS);var data=__assign({},props,{color:color});return React.createElement(React.Fragment,null,React.createElement(Link_1.LinkDefault,__assign({},data)),React.createElement(Label,{style:{left:centerX,top:centerY}},props.link.properties&&props.link.properties.label&&React.createElement(LabelContent,null,props.link.properties&&props.link.properties.label),callbacks.onDelete&&React.createElement(Button,{className:"remove-link",onClick:function(e){callbacks.onDelete&&callbacks.onDelete(link),e.stopPropagation()}},"x")))},exports.LinkCustomWrapper=function(props,chart,callbacks){return exports.LinkCustom(props,chart,callbacks)}},568:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,templateObject_3,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),types_1=__webpack_require__(73),InputNode=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n  padding: 10px 30px;\n  background: ",";\n  color: white;\n  border-radius: 10px;\n"],["\n  position: absolute;\n  padding: 10px 30px;\n  background: ",";\n  color: white;\n  border-radius: 10px;\n"])),types_1.COLOR_OUTPUT),OutputNode=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 10px 30px;\n  position: absolute;\n  background: ",";\n  color: white;\n  border-radius: 10px;\n"],["\n  padding: 10px 30px;\n  position: absolute;\n  background: ",";\n  color: white;\n  border-radius: 10px;\n"])),types_1.COLOR_INPUT),TaskNode=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  position: absolute;\n  width: 240px;\n  height: 120px;\n  padding: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #ffffff;\n  color: black;\n  border: solid "," 2px;\n  &.finished{\n    border-color: ","\n  }\n"],["\n  position: absolute;\n  width: 240px;\n  height: 120px;\n  padding: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #ffffff;\n  color: black;\n  border: solid "," 2px;\n  &.finished{\n    border-color: ","\n  }\n"])),types_1.COLOR_OUTPUT_LIGHT,types_1.COLOR_SUCCESS_LIGHT);exports.NodeCustom=React.forwardRef(function(_a){var node=_a.node,children=_a.children,otherProps=__rest(_a,["node","children"]);if("output-only"===node.type)return React.createElement(InputNode,__assign({},otherProps,{className:"flow-chart-start-node"}),children);if("input-only"===node.type)return React.createElement(OutputNode,__assign({},otherProps,{className:"flow-chart-end-node"}),children);var _b=node.properties.task,_c=(void 0===_b?{}:_b).status,status_1=void 0===_c?"pending":_c;return React.createElement(TaskNode,__assign({},otherProps,{className:"flow-chart-task-node "+status_1.toLowerCase()}),children)})},569:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),CustomInput_1=__webpack_require__(242),Outer=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 10px;\n  text-align: center;\n"],["\n  padding: 10px;\n  text-align: center;\n"]))),OuterTask=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"])));exports.NodeInnerDefaultWrapper=function(_a){return function(_a){var node=_a.node,props=_a.props,_b=node.properties,properties=void 0===_b?{}:_b,_c=props.chartProgress,chartProgress=void 0===_c?{}:_c,_d=props.distances,distances=void 0===_d?{}:_d,currentTask=props.tasks.filter(function(t){return t.id===properties.taskId})[0];currentTask=currentTask||{id:"",title:""};var distance=distances[node.id],progress=chartProgress[node.id];return"output-only"===node.type?React.createElement(Outer,null,props.startContent&&props.startContent(),!props.startContent&&React.createElement("p",null,"START")):"input-only"===node.type?React.createElement(Outer,null,props.endContent&&props.endContent(distance,progress),!props.endContent&&React.createElement("div",null,React.createElement("p",null,"END"),React.createElement("div",{className:"distance"},progress,"/",distance))):React.createElement(OuterTask,null,props.taskContent&&props.taskContent(currentTask),!props.taskContent&&React.createElement("div",null,currentTask.id,properties.status,React.createElement("div",{className:"distance"},distance),React.createElement(CustomInput_1.CustomInput,{onChange:props.onChange,value:currentTask.points?currentTask.points.toString():""})),React.createElement("i",{className:"close",style:{width:"24px",height:"24px",position:"absolute",top:0,right:0},onClick:function(){props.onRemove({node:node})}},props.closeButton&&props.closeButton(),!props.closeButton&&React.createElement("svg",{style:{width:"24px",height:"24px",cursor:"pointer"},viewBox:"0 0 24 24"},React.createElement("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))))}({node:_a.node,props:_a.props})}},570:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),types_1=__webpack_require__(73),PortDefaultOuter=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 20px;\n  height: 20px;\n  background: cornflowerblue;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n"],["\n  width: 20px;\n  height: 20px;\n  background: cornflowerblue;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n"]))),PortDefaultInner=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  width: 14px;\n  height: 14px;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n"],["\n  width: 14px;\n  height: 14px;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n"])));exports.PortCustom=function(props){return React.createElement(PortDefaultOuter,{style:{backgroundColor:"left"===props.port.type?types_1.COLOR_INPUT:types_1.COLOR_OUTPUT}},React.createElement(PortDefaultInner,null))}},571:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=function(el,callback){for(var key in el)el.hasOwnProperty(key)&&callback(el[key])},exports.calculatePaths=function(tasks,state){var distances={},chartProgress={},errors=[],nodesMap={};if(state){var links_1=[];exports.forEach(state.links,function(val){links_1.push(val)}),exports.forEach(state.nodes,function(n){var _a=n.properties,properties=void 0===_a?{}:_a;n.properties=__assign({},properties,{task:tasks.filter(function(t){return t.id===properties.taskId})[0],ascendants:[]}),nodesMap[n.id]=n});var calculateNodePath_1=function(currentNode){if(currentNode){var _a=currentNode.properties,properties=void 0===_a?{}:_a,_b=properties.task,task=void 0===_b?{}:_b,distance_1=task.points?parseInt(task.points,10):0,ascendants=currentNode.properties.ascendants,status_1=task.status||"pending",progress_1=0;"finished"===task.status&&(progress_1=distance_1),ascendants.map(function(nodeId){var t=nodesMap[nodeId].properties.task,d=t&&t.points?parseInt(t.points,10):0;t&&("finished"!==t.status?status_1="pending":progress_1+=d),distance_1+=d}),properties.status=status_1,distances[currentNode.id]=distance_1,chartProgress[currentNode.id]=progress_1,nodesMap[currentNode.id]=__assign({},currentNode,{properties:properties}),links_1.filter(function(l){return l.from.nodeId===currentNode.id}).map(function(l){return l.to.nodeId}).map(function(nodeId){return calculateNodePath_1(nodesMap[nodeId])})}},generateAscendants_1=function(currentNode){if(currentNode){var _a=currentNode.properties,properties=void 0===_a?{}:_a,prevNodes=links_1.filter(function(l){return l.to.nodeId===currentNode.id}).map(function(l){return l.from.nodeId}),ascendants_1=currentNode.properties.ascendants;prevNodes.map(function(nodeId){ascendants_1.indexOf(nodeId)<0&&ascendants_1.push(nodeId);var prevNode=nodesMap[nodeId];prevNode&&prevNode.properties.ascendants.map(function(nId){ascendants_1.indexOf(nId)<0&&ascendants_1.push(nId)})}),nodesMap[currentNode.id]=__assign({},currentNode,{properties:__assign({},properties,{ascendants:ascendants_1})}),links_1.filter(function(l){return l.from.nodeId===currentNode.id}).map(function(l){return l.to.nodeId}).map(function(nodeId){ascendants_1.indexOf(nodeId)<0?generateAscendants_1(nodesMap[nodeId]):errors.push({type:"loop",details:"Loop:  "+nodesMap[nodeId].properties.task.id+" -> "+nodesMap[currentNode.id].properties.task.id})})}};for(var property in nodesMap){if(nodesMap.hasOwnProperty(property))"output-only"===(node=nodesMap[property]).type&&generateAscendants_1(node)}if(0===errors.length)for(var property in nodesMap){var node;if(nodesMap.hasOwnProperty(property))"output-only"===(node=nodesMap[property]).type&&calculateNodePath_1(node)}}return{chartProgress:chartProgress,distances:distances,errors:errors,nodesMap:nodesMap}}},572:function(module,exports,__webpack_require__){"use strict";function getRandomId(length){void 0===length&&(length=24);for(var result="",characters="abcdefghijklmnopqrstuvwxyz0123456789-",charactersLength=characters.length,i=0;i<length;i++)result+=characters.charAt(Math.floor(Math.random()*charactersLength));return result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateRelations=function generateRelations(tasks){var nodeStartId=getRandomId(),nodeEndId=getRandomId(),start_x=20,start_y=20,start_w=210,margin_x=120,margin_y=20,block_w=200,block_h=120,nodes={},links={},maxWidth=1,row=0,maxColumn=0,tasksMap={};tasks.map(function(t){var parents=t.dependencies?t.dependencies:[];tasksMap[t.id]={id:getRandomId(),parents:parents,children:[],left:0,blockHeight:1,blockWidth:1,task:t,visited:!1}});var _loop_1=function(property){tasksMap.hasOwnProperty(property)&&tasksMap[property].parents.length>0&&tasksMap[property].task.dependencies.map(function(taskParentId){!function(taskParentId,taskId){tasksMap[taskParentId].children.push(taskId)}(taskParentId,tasksMap[property].task.id)})};for(var property in tasksMap)_loop_1(property);var calculateBlockHeight=function(taskId){var node=tasksMap[taskId];if(!node.visited||node.visited<30){var blockHeight_1=node.children.length;blockHeight_1<1?blockHeight_1=1:(blockHeight_1=0,node.children.map(function(taskChildId){var childHeight=tasksMap[taskChildId].blockHeight;blockHeight_1+=childHeight})),node.blockHeight=blockHeight_1,node.visited+=1,node.parents.map(function(taskParentId){calculateBlockHeight(taskParentId)})}else node.visited>=30&&(node.blockHeight=3)};for(var property in tasksMap){if(tasksMap.hasOwnProperty(property))0===(node=tasksMap[property]).children.length&&calculateBlockHeight(node.task.id)}var getLink=function(id,fromId,toId){return nodes[fromId]&&nodes[toId]?{id:id,from:{nodeId:fromId,portId:"port2"},to:{nodeId:toId,portId:"port1"}}:null},generateNode=function(taskId,column,currentRow){column>maxColumn&&(maxColumn=column);var node=tasksMap[taskId];if(!nodes[node.id]){(node.children.length>0||node.parents.length>0||node.task.points>0)&&(nodes[node.id]=function getNode(id,t,x,y){return{id:id,position:{x:x,y:y},type:"task",ports:{port1:{id:"port1",type:"left",properties:{},position:{x:-2,y:50}},port2:{id:"port2",type:"right",properties:{},position:{x:242,y:50}}},properties:{taskId:t.id}}}(node.id,node.task,start_x+start_w+margin_x+(margin_x+block_w)*(0===node.children.length?maxColumn:column),start_y+currentRow*(block_h+margin_y)));var innerRow_1=currentRow;node.children.map(function(c){generateNode(c,column+1,innerRow_1),innerRow_1+=tasksMap[c].blockHeight})}};for(var property in tasksMap){if(tasksMap.hasOwnProperty(property))0===(node=tasksMap[property]).parents.length&&(node.task&&node.task.points>0||node.children.length>0)&&(generateNode(property,0,row),row+=node.blockHeight)}for(var property in nodes[nodeStartId]=function getStart(id,x,y){return{id:id,type:"output-only",position:{x:x,y:y},ports:{port2:{id:"port2",type:"right",position:{x:133,y:65}}}}}(nodeStartId,start_x,start_y),nodes[nodeEndId]=function getEnd(id,x,y){return{id:id,type:"input-only",position:{x:x,y:y},ports:{port1:{id:"port1",type:"left",position:{x:-2,y:65}}}}}(nodeEndId,start_x+start_w+margin_x+(maxColumn+1)*(margin_x+block_w),start_y),tasksMap)if(tasksMap.hasOwnProperty(property)){var node;if((node=tasksMap[property]).blockWidth>maxWidth&&(maxWidth=node.blockWidth),0===node.children.length){var linkId=getRandomId();(link=getLink(linkId,node.id,nodeEndId))&&(links[linkId]=link)}if(0===node.parents.length){var link;linkId=getRandomId();(link=getLink(linkId,nodeStartId,node.id))&&(links[linkId]=link)}}var _loop_2=function(property){if(tasksMap.hasOwnProperty(property)){var currentNode_1=tasksMap[property],t=currentNode_1.task;t.dependencies&&t.dependencies.map(function(taskId){var linkId=getRandomId(),link=getLink(linkId,tasksMap[taskId].id,currentNode_1.id);link&&(links[linkId]=link)})}};for(var property in tasksMap)_loop_2(property);return{offset:{x:0,y:0},nodes:nodes,links:links,selected:{},hovered:{}}}},573:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTaskRelations=function getTaskRelations(tasks,chartRelations){var links=chartRelations.links,nodes=chartRelations.nodes,relations=[],tasksMap={};for(var property in links)if(links.hasOwnProperty(property)){var link=links[property],from=link.from.nodeId,to=link.to.nodeId;if(from&&to){var nodeFrom=nodes[from],nodeTo=nodes[to];if(nodeFrom&&nodeTo){var taskFrom=nodeFrom.properties&&nodeFrom.properties.task,taskTo=nodeTo.properties&&nodeTo.properties.task;taskFrom&&taskTo&&relations.push({from:taskFrom.id,to:taskTo.id})}}}return tasks.map(function(t){tasksMap[t.id]=[]}),relations.map(function(r){tasksMap[r.from].push(r.to)}),tasks.map(function(t){t.dependencies=tasksMap[t.id]}),tasks}},574:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(7),actions=__webpack_require__(72),mapValues_1=__webpack_require__(243),FlowChartWithState=function(_super){function FlowChartWithState(props){var _this=_super.call(this,props)||this;return _this.stateActions=mapValues_1.default(actions,function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}),_this.state=props.initialValue,_this}return __extends(FlowChartWithState,_super),FlowChartWithState.prototype.render=function(){var Components=this.props.Components;return React.createElement(__1.FlowChart,{chart:this.state,callbacks:this.stateActions,Components:Components})},FlowChartWithState}(React.Component);exports.FlowChartWithState=FlowChartWithState},575:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(3),__1=__webpack_require__(7),components_1=__webpack_require__(17),utils_1=__webpack_require__(244),ErrorDiv=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\npadding: 10px;\nmargin-bottom: 10px;\ncolor: #FFFFFF;\nbackground-color: #ec407a;\n"],["\npadding: 10px;\nmargin-bottom: 10px;\ncolor: #FFFFFF;\nbackground-color: #ec407a;\n"]))),TasksFlowChart=function(_super){function TasksFlowChart(props){var _this=_super.call(this,props)||this,_a=props.tasks,tasks=void 0===_a?[]:_a;return _this.state={chartProgress:{},chartRelations:utils_1.generateRelations(tasks),errors:[],taskFilter:"",tasks:tasks,added:[],refreshCode:1,distances:{},nodes:{}},_this.getCurrentState=_this.getCurrentState.bind(_this),_this.recalculateDistances=_this.recalculateDistances.bind(_this),_this.filterTasks=_this.filterTasks.bind(_this),_this}return __extends(TasksFlowChart,_super),TasksFlowChart.prototype.filterTasks=function(_a){var value=_a.value;this.setState({taskFilter:value})},TasksFlowChart.prototype.componentDidUpdate=function(prevProps,prevState,snapshot){var _this=this;if(this.props.tasks!==prevProps.tasks&&(this.setState({tasks:this.props.tasks}),this.props.refreshCode&&this.props.refreshCode!==prevProps.refreshCode)){var _a=this.props.tasks,tasks=void 0===_a?[]:_a;this.setState({chartProgress:{},chartRelations:utils_1.generateRelations(tasks),errors:[],taskFilter:"",tasks:tasks,added:[],distances:{},nodes:{}},function(){_this.getCurrentState()})}},TasksFlowChart.prototype.removeTask=function(taskId,callback){this.setState({added:this.state.added.filter(function(t){return t!==taskId})},callback)},TasksFlowChart.prototype.addTask=function(taskId,callback){var added=this.state.added;added.push(taskId),this.setState({added:added},callback)},TasksFlowChart.prototype.updateTask=function(_a,callback){var taskId=_a.taskId,name=_a.name,value=_a.value,tasks=this.state.tasks.map(function(t){return t.id===taskId&&(t[name]=value),t},callback);this.setState({tasks:tasks})},TasksFlowChart.prototype.getCurrentState=function(){this.setState({refreshCode:this.state.refreshCode+1})},TasksFlowChart.prototype.recalculateDistances=function(state){var _a=this.state,chartRelations=_a.chartRelations,tasks=_a.tasks,onChange=this.props.onChange,_b=utils_1.calculatePaths(tasks,state),chartProgress=_b.chartProgress,distances=_b.distances,errors=_b.errors,nodesMap=_b.nodesMap,fixedTasks=utils_1.getTaskRelations(tasks,chartRelations);this.setState({chartProgress:chartProgress,distances:distances,errors:errors,tasks:fixedTasks,nodes:nodesMap},function(){onChange&&onChange({chartProgress:chartProgress,chartRelations:chartRelations,tasks:tasks,distances:distances})})},TasksFlowChart.prototype.refreshTasks=function(state,callback){var added=this.state.added;utils_1.forEach(state.nodes,function(n){var _a=n.properties,properties=void 0===_a?{}:_a;properties.taskId&&added.push(properties.taskId)}),this.setState({added:added},callback)},TasksFlowChart.prototype.render=function(){var _this=this,taskFilter=this.state.taskFilter,filtered=this.state.tasks.filter(function(t){return _this.state.added.indexOf(t.id)<0}).filter(function(t){return t.title.toLowerCase().indexOf(taskFilter.toLowerCase())>=0}),editable=!1!==this.props.editable;return React.createElement(components_1.Page,null,React.createElement(components_1.Content,null,React.createElement(__1.FlowChartWithStateAdvanced,{editable:editable,chartProgress:this.state.chartProgress,closeButton:this.props.closeButton,backgroundImage:this.props.backgroundImage,startContent:this.props.startContent,endContent:this.props.endContent,taskContent:this.props.taskContent,refreshCode:this.state.refreshCode,tasks:this.state.tasks,nodes:this.state.nodes,distances:this.state.distances,initialValue:this.state.chartRelations,handleCreateRelation:this.props.handleCreateRelation,handleDeleteRelation:this.props.handleDeleteRelation,handleDeleteTaskRelations:this.props.handleDeleteTaskRelations,handleCallback:function(name,args,state){if(state)if(args)switch(name){case"onNodeChange":args.node&&args.name&&void 0!==args.value&&(args.node.properties.task&&_this.props.handleUpdateTask&&_this.props.handleUpdateTask(args.node.properties.task),_this.updateTask({name:args.name,value:args.value,taskId:args.node.properties.taskId},function(){_this.recalculateDistances(state)}));break;case"onCanvasDrop":editable&&_this.addTask(args[0].data.properties.taskId,function(){_this.recalculateDistances(state)});break;case"onDeleteKey":args.taskId?editable&&_this.removeTask(args.taskId,function(){_this.recalculateDistances(state)}):args.linkId&&_this.recalculateDistances(state);break;case"onLinkComplete":_this.recalculateDistances(state)}else switch(name){case"refreshState":case"refreshTasks":_this.refreshTasks(state,function(){_this.recalculateDistances(state)})}}})),React.createElement(components_1.Sidebar,{className:"sidebar"},this.state.errors.map(function(err){return React.createElement(ErrorDiv,null,"ERROR: ",err.type," : ",err.details)}),React.createElement(__1.CustomInput,{placeholder:this.props.searchPlaceholder,reactive:!0,onChange:this.filterTasks,value:taskFilter}),filtered.map(function(t){return React.createElement(components_1.SidebarItem,{key:"task-"+t.id,type:t.title,properties:{taskId:t.id},ports:{port1:{id:"port1",type:"left",properties:{}},port2:{id:"port2",type:"right",properties:{}}}})})))},TasksFlowChart}(React.Component);exports.TasksFlowChart=TasksFlowChart},576:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.REACT_FLOW_CHART="react-flow-chart"},578:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(141),React=__webpack_require__(0),CustomCanvasOuter_1=__webpack_require__(230),CustomLink_1=__webpack_require__(250),CustomNode_1=__webpack_require__(251),CustomNodeInner_1=__webpack_require__(252),CustomPort_1=__webpack_require__(253),DragAndDropSidebar_1=__webpack_require__(254),ExternalReactState_1=__webpack_require__(255),InternalReactState_1=__webpack_require__(257),SelectedSidebar_1=__webpack_require__(258),StressTest_1=__webpack_require__(259),TasksFlowChartStory_1=__webpack_require__(260);react_1.storiesOf("State",module).add("Internal React State",InternalReactState_1.InternalReactState).add("External React State",function(){return React.createElement(ExternalReactState_1.ExternalReactState,null)}),react_1.storiesOf("Custom Components",module).add("Node",CustomNode_1.CustomNodeDemo).add("Node Inner",CustomNodeInner_1.CustomNodeInnerDemo).add("Port",CustomPort_1.CustomPortDemo).add("Canvas Outer",CustomCanvasOuter_1.CustomCanvasOuterDemo).add("Canvas Link",function(){return React.createElement(CustomLink_1.CustomLinkDemo,null)}),react_1.storiesOf("Stress Testing",module).add("default",StressTest_1.StressTestDemo),react_1.storiesOf("Sidebar",module).add("Drag and Drop",DragAndDropSidebar_1.DragAndDropSidebar).add("Selected Sidebar",function(){return React.createElement(SelectedSidebar_1.SelectedSidebar,null)}),react_1.storiesOf("Tasks Chart",module).add("Flow Chart For Tasks",function(){return React.createElement(TasksFlowChartStory_1.TasksFlowChartStory,null)})}).call(this,__webpack_require__(41)(module))},579:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chartSimple={offset:{x:0,y:0},nodes:{node1:{id:"node1",type:"output-only",position:{x:100,y:100},ports:{port2:{id:"port2",type:"right",position:{x:133,y:65}}}},node3:{id:"node3",type:"input-only",position:{x:1130,y:171},ports:{port1:{id:"port1",type:"left",position:{x:-2,y:65}}}},"bfbf7e5e-7689-42bf-aae6-63864bef94df":{id:"bfbf7e5e-7689-42bf-aae6-63864bef94df",position:{x:683,y:243},type:"Task 2",ports:{port1:{id:"port1",type:"left",properties:{custom:"property"},position:{x:-2,y:50}},port2:{id:"port2",type:"right",properties:{custom:"property"},position:{x:242,y:50}}},properties:{taskId:"task2"}},"4cda6ff8-a6bb-41bd-8d04-b9a220378521":{id:"4cda6ff8-a6bb-41bd-8d04-b9a220378521",position:{x:393,y:40},type:"Task 1",ports:{port1:{id:"port1",type:"left",properties:{custom:"property"},position:{x:-2,y:50}},port2:{id:"port2",type:"right",properties:{custom:"property"},position:{x:242,y:50}}},properties:{taskId:"task1"}},"0d739be2-2531-446b-8f6d-e71951b61378":{id:"0d739be2-2531-446b-8f6d-e71951b61378",position:{x:771,y:79},type:"Task 3",ports:{port1:{id:"port1",type:"left",properties:{custom:"property"},position:{x:-2,y:50}},port2:{id:"port2",type:"right",properties:{custom:"property"},position:{x:242,y:50}}},properties:{taskId:"task3"}}},links:{"915af676-a940-4abf-979c-15392d51a846":{id:"915af676-a940-4abf-979c-15392d51a846",from:{nodeId:"node1",portId:"port2"},to:{nodeId:"bfbf7e5e-7689-42bf-aae6-63864bef94df",portId:"port1"}},"491d4de4-4b02-463b-b9e1-cb784d979726":{id:"491d4de4-4b02-463b-b9e1-cb784d979726",from:{nodeId:"bfbf7e5e-7689-42bf-aae6-63864bef94df",portId:"port2"},to:{nodeId:"node3",portId:"port1"}},"6cd4d6bc-71d2-459d-8a9a-48740a2101c4":{id:"6cd4d6bc-71d2-459d-8a9a-48740a2101c4",from:{nodeId:"node1",portId:"port2"},to:{nodeId:"4cda6ff8-a6bb-41bd-8d04-b9a220378521",portId:"port1"}},"73d41878-3160-4fc9-b6b9-f34c0680cb6c":{id:"73d41878-3160-4fc9-b6b9-f34c0680cb6c",from:{nodeId:"4cda6ff8-a6bb-41bd-8d04-b9a220378521",portId:"port2"},to:{nodeId:"0d739be2-2531-446b-8f6d-e71951b61378",portId:"port1"}},"681c5fa2-083c-436e-97ea-23959a0c3a59":{id:"681c5fa2-083c-436e-97ea-23959a0c3a59",from:{nodeId:"0d739be2-2531-446b-8f6d-e71951b61378",portId:"port2"},to:{nodeId:"node3",portId:"port1"}}},selected:{},hovered:{}}},7:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(541)),__export(__webpack_require__(245)),__export(__webpack_require__(73)),__export(__webpack_require__(576))},72:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var uuid_1=__webpack_require__(235);exports.onDragNode=function(event,data,id){return function(chart){var nodechart=chart.nodes[id];return nodechart&&(chart.nodes[id]=__assign({},nodechart,{position:{x:data.x,y:data.y}})),chart}},exports.onDragCanvas=function(event,data){return function(chart){return chart.offset.x=data.x,chart.offset.y=data.y,chart}},exports.onLinkStart=function(_a){var linkId=_a.linkId,fromNodeId=_a.fromNodeId,fromPortId=_a.fromPortId;return function(chart){return chart.links[linkId]={id:linkId,from:{nodeId:fromNodeId,portId:fromPortId},to:{}},chart}},exports.onLinkMove=function(_a){var linkId=_a.linkId,toPosition=_a.toPosition;return function(chart){var link=chart.links[linkId];return link.to.position=toPosition,chart.links[linkId]=__assign({},link),chart}},exports.onLinkComplete=function(_a){var linkId=_a.linkId,fromNodeId=_a.fromNodeId,fromPortId=_a.fromPortId,toNodeId=_a.toNodeId,toPortId=_a.toPortId;return function(chart){return[fromNodeId,fromPortId].join()!==[toNodeId,toPortId].join()&&(chart.links[linkId].to={nodeId:toNodeId,portId:toPortId}),chart}},exports.onLinkCancel=function(_a){var linkId=_a.linkId;return function(chart){return delete chart.links[linkId],chart}},exports.onLinkMouseEnter=function(_a){var linkId=_a.linkId;return function(chart){var link=chart.links[linkId];return link.to.nodeId&&link.to.portId&&("link"===chart.hovered.type&&chart.hovered.id===linkId||(chart.hovered={type:"link",id:linkId})),chart}},exports.onLinkMouseLeave=function(_a){var linkId=_a.linkId;return function(chart){var link=chart.links[linkId];return link.to.nodeId&&link.to.portId&&(chart.hovered={}),chart}},exports.onLinkClick=function(_a){var linkId=_a.linkId;return function(chart){return chart.selected.id===linkId&&"link"===chart.selected.type||(chart.selected={type:"link",id:linkId}),chart}},exports.onCanvasClick=function(){return function(chart){return chart.selected.id&&(chart.selected={}),chart}},exports.onDeleteKey=function(){return function(chart){if("node"===chart.selected.type&&chart.selected.id){var node_1=chart.nodes[chart.selected.id];Object.keys(chart.links).forEach(function(linkId){var link=chart.links[linkId];link.from.nodeId!==node_1.id&&link.to.nodeId!==node_1.id||delete chart.links[link.id]}),delete chart.nodes[chart.selected.id]}else"link"===chart.selected.type&&chart.selected.id&&delete chart.links[chart.selected.id];return chart.selected&&(chart.selected={}),chart}},exports.onNodeClick=function(_a){var nodeId=_a.nodeId;return function(chart){return chart.selected.id===nodeId&&"node"===chart.selected.type||(chart.selected={type:"node",id:nodeId}),chart}},exports.onNodeSizeChange=function(_a){var nodeId=_a.nodeId,size=_a.size;return function(chart){chart.nodes[nodeId]=__assign({},chart.nodes[nodeId],{size:size})}},exports.onPortPositionChange=function(nodeToUpdate,port,position){return function(chart){var node=chart.nodes[nodeToUpdate.id];return node.ports[port.id].position={x:position.x,y:position.y},chart.nodes[nodeToUpdate.id]=__assign({},node),chart}},exports.onCanvasDrop=function(_a){var data=_a.data,position=_a.position;return function(chart){var id=uuid_1.v4();return chart.nodes[id]={id:id,position:position,type:data.type,ports:data.ports,properties:data.properties},chart}}},73:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(240))}},[[267,1,2]]]);
//# sourceMappingURL=main.af7e5ff22560279b7241.bundle.js.map